
<div class="section-background color-{{ section.settings.color_scheme }}"></div>
<div
  class="section section--{{ section.settings.section_width }} spacing-style {% if section.settings.color_scheme != blank %}color-{{ section.settings.color_scheme }}{% endif %} expandable-content-section"
  style="{% render 'spacing-padding', settings: section.settings %}"
>
  <div class="expandable-content__wrapper">
    {% if section.settings.main_heading != blank %}
      <h1 class="expandable-content__main-heading">{{ section.settings.main_heading }}</h1>
    {% endif %}

    {% if section.settings.intro_text != blank %}
      <div class="expandable-content__intro">
        {{ section.settings.intro_text }}
      </div>
    {% endif %}

    {% if section.settings.expandable_text != blank %}
      <show-more-component class="show-more" data-expanded="false">
        <div class="expandable-content__content" ref="showMoreContent">
          {% if section.settings.sub_heading != blank %}
            <h2 class="expandable-content__sub-heading">{{ section.settings.sub_heading }}</h2>
          {% endif %}

          {% if section.settings.visible_text != blank %}
            <div class="expandable-content__visible-text">
              {{ section.settings.visible_text }}
            </div>
          {% endif %}

          <div class="expandable-content__expandable-text hidden" ref="showMoreItems[]">
            {{ section.settings.expandable_text }}
          </div>
        </div>

        <div class="expandable-content__button-wrapper">
          <button
            class="show-more__button button expandable-content__read-more-button"
            ref="showMoreButton"
            on:click="/toggle"
            aria-expanded="false"
            aria-controls="expandable-content-{{ section.id }}"
          >
            <span class="show-more__label show-more__label--more">
              {{ section.settings.read_more_label | default: 'READ MORE' }}
            </span>
            <span class="show-more__label show-more__label--less">
              {{ section.settings.read_less_label | default: 'READ LESS' }}
            </span>
          </button>
        </div>
      </show-more-component>
    {% else %}
      <div class="expandable-content__content">
        {% if section.settings.sub_heading != blank %}
          <h2 class="expandable-content__sub-heading">{{ section.settings.sub_heading }}</h2>
        {% endif %}

        {% if section.settings.visible_text != blank %}
          <div class="expandable-content__visible-text">
            {{ section.settings.visible_text }}
          </div>
        {% endif %}
      </div>
    {% endif %}
  </div>
</div>

{% stylesheet %}
  .expandable-content-section {
    background-color: #f5f5f0; /* Light beige background */
  }

  .expandable-content__wrapper {
    margin: 0 auto;
    width: 100%;
    padding: 0 var(--page-margin);
  }

  .expandable-content__main-heading {
    font-family: var(--font-heading--family);
    font-size: clamp(2rem, 5vw, 3rem);
    font-weight: var(--font-heading--weight);
    line-height: 1.2;
    margin-block-end: 1.5rem;
    text-align: center;
    color: var(--color-foreground);
  }

  .expandable-content__intro {
    font-family: var(--font-paragraph--family);
    font-size: var(--font-paragraph--size);
    line-height: var(--font-paragraph--line-height);
    color: var(--color-foreground);
    margin-block-end: 1.5rem;
    text-align: left;
  }

  .expandable-content__intro p {
    margin-block-end: 1rem;
  }

  .expandable-content__intro p:last-child {
    margin-block-end: 0;
  }

  .expandable-content__content {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .expandable-content__sub-heading {
    font-family: var(--font-heading--family);
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: var(--font-heading--weight);
    line-height: 1.3;
    margin-block-start: 0;
    margin-block-end: 1rem;
    color: var(--color-foreground);
  }

  .expandable-content__visible-text,
  .expandable-content__expandable-text {
    font-family: var(--font-paragraph--family);
    font-size: var(--font-paragraph--size);
    line-height: var(--font-paragraph--line-height);
    color: var(--color-foreground);
    text-align: left;
  }

  .expandable-content__visible-text p,
  .expandable-content__expandable-text p {
    margin-block-end: 1rem;
  }

  .expandable-content__visible-text p:last-child,
  .expandable-content__expandable-text p:last-child {
    margin-block-end: 0;
  }

  .expandable-content__expandable-text {
    display: block;
  }

  .expandable-content__button-wrapper {
    margin-block-start: 2rem;
    text-align: center;
  }

  .expandable-content__read-more-button {
    padding: 0.875rem 2rem;
    background-color: #000;
    color: #fff;
    border: none;
    border-radius: 0;
    font-family: var(--font-paragraph--family);
    font-size: var(--font-paragraph--size);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    cursor: pointer;
    transition: background-color 0.3s ease, color 0.3s ease;
    width: auto;
    display: inline-block;
  }

  .expandable-content__read-more-button:hover {
    background-color: #333;
    color: #fff;
  }

  .expandable-content__read-more-button:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }

  /* Links in content */
  .expandable-content__visible-text a,
  .expandable-content__expandable-text a {
    text-decoration: underline;
    color: var(--color-foreground);
  }

  .expandable-content__visible-text a:hover,
  .expandable-content__expandable-text a:hover {
    color: var(--color-primary-hover);
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Expandable Content",
  "settings": [
    {
      "type": "text",
      "id": "main_heading",
      "label": "Main Heading",
      "default": "Discover the Best Ayurvedic Day Creams by Ashpveda: Nature's Glow in a Jar"
    },
    {
      "type": "richtext",
      "id": "intro_text",
      "label": "Introduction Text",
      "default": "<p>In the world of skincare, finding the perfect day cream can be a challenge—especially when you want something that's both effective and made from natural, gentle ingredients. Welcome to Ashpveda's Day Cream Collection, where time-honored Ayurvedic wisdom meets modern skincare needs. Whether you're battling oiliness, dryness, or just looking to get that radiant glow, our selection is crafted to nourish, protect, and revitalize your skin every single day.</p><p>Let's take a deep dive into what makes Ashpveda's moisturizing day creams a must-have in your daily skincare ritual.</p>"
    },
    {
      "type": "text",
      "id": "sub_heading",
      "label": "Sub Heading",
      "default": "Why You Need a Day Cream in Your Skincare Routine"
    },
    {
      "type": "richtext",
      "id": "visible_text",
      "label": "Visible Text (Before Expand)",
      "default": "<p>You may have your toner, your serum, your sunscreen—but if you're skipping your day cream, you're leaving your skin undernourished and vulnerable. A high-quality day cream not only hydrates your skin but also protects against environmental stressors, balances oil production, and promotes a healthy glow.</p>"
    },
    {
      "type": "richtext",
      "id": "expandable_text",
      "label": "Expandable Text (Hidden by Default)",
      "default": "<p>Ashpveda's day creams are packed with powerful Ayurvedic ingredients like aloe vera, saffron, turmeric, and sandalwood, which soothe, repair, and rejuvenate your skin naturally. These ingredients work in harmony to provide deep hydration, reduce inflammation, and give you that coveted healthy radiance.</p><p>Unlike synthetic alternatives, our day creams are free from harsh chemicals and parabens, making them safe for all skin types—even the most sensitive. They're lightweight, non-greasy, and absorb quickly, leaving your skin feeling soft and refreshed throughout the day.</p><p>Incorporating a day cream into your routine is essential for maintaining skin health. It acts as a barrier against pollution, UV rays, and other environmental factors that can damage your skin over time. With Ashpveda's day creams, you're not just moisturizing—you're investing in long-term skin wellness.</p>"
    },
    {
      "type": "text",
      "id": "read_more_label",
      "label": "Read More Button Label",
      "default": "READ MORE"
    },
    {
      "type": "text",
      "id": "read_less_label",
      "label": "Read Less Button Label",
      "default": "READ LESS"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color Scheme",
      "default": "scheme-1"
    },
    {
      "type": "select",
      "id": "section_width",
      "label": "Section Width",
      "options": [
        {
          "value": "page-width",
          "label": "Page Width"
        },
        {
          "value": "full-width",
          "label": "Full Width"
        }
      ],
      "default": "page-width"
    },
    {
      "type": "header",
      "content": "Padding"
    },
    {
      "type": "range",
      "id": "padding-block-start",
      "label": "Top Padding",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding-block-end",
      "label": "Bottom Padding",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 40
    }
  ],
  "presets": [
    {
      "name": "Expandable Content"
    }
  ]
}
{% endschema %}

